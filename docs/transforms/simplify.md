# Simplify #

The `simplify` transformation provides a way to automaticaly improve our programs using computer algebra. This transformation turns a Hakaru program into its expectation 
representation before sending it to Maple to be algebraically-simplified.

**Note:** A Hakaru program transformed by the `simplify` command might not produce the same output as the original program because the weights implicitly assigned to the 
original program's samples generated by the `hakaru` command are ignored during the transformation.

## Usage ##

You can use the `simplify` transformation in the command line by calling:

````bash
simplify <hakaru_program.hk>
````

## Example ##

This program takes in a value of type `prob` and returns a measure of type `real`:

````nohighlight
fn a prob:
  x <~ normal(a,1)
  y <~ normal(x,1)
  z <~ normal(y,1)
  return z
````

The returned value, `z`, is generated by passing the last value generated by the function, starting with the original function arguement. This indicates that it might be 
reduceable to a smaller program. Assuming that we named the program `simplify_before.hk`, we can call the `simplify` transform by running:

````bash
simplify simplify_before.hk
````

**Note:** The output for `simplify` will be printed in the console. You can easily save this program to a file by redirecting the output to a file by calling 
`simplify model1.hk > model2.hk`. For this example, we will call our new program `simplify_after.hk`. 

When you open our new program, `simplify_after.hk`, you will see that the original five-line program has been reduced to a single line:

````nohighlight
fn a prob: normal(prob2real(a), sqrt(3))
````
